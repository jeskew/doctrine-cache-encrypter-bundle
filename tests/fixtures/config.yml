framework:
    secret: "Roger Kint is Keyser Soze."

services:
    key_factory:
        class: KeyFactory
        private: true
    my_public_key:
        class: stdClass
        private: true
        factory: ["@key_factory", getCertificate]
    my_private_key:
        class: stdClass
        private: true
        factory: ["@key_factory", getPrivateKey]
    cache:
        class: Doctrine\Common\Cache\ArrayCache
        tags:
            -
                name: cache.encrypted
                password: a
            -
                name: cache.encrypted
                alias: my_encrypted_cache
                password: b
            -
                name: cache.encrypted
                alias: my_pki_encrypted_cache
                certificate: '@my_public_key'
                key: '@my_private_key'
